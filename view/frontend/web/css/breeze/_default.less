@import '../source/layout/_expanded-with-toolbar.less';

.collapsed[data-mage-init*='"Swissup_Easytabs/js/tabs":'] {
    &:extend(.breeze-tabs all);
    > [data-role="collapsible"] {
        &:extend(.breeze-tab-toggler all);
        &[aria-expanded="true"] {
            &:extend(.breeze-tab-toggler-active all);
        }
        &:nth-child(1):not([aria-expanded]) {
            &:extend(.breeze-tab-toggler-active all);
        }
    }

    > [data-role="content"] {
        &:extend(.breeze-tab-content);
        &[aria-hidden="false"] {
            &:extend(.breeze-tab-content-active all);
        }
        &:nth-child(2):not([aria-hidden]) {
            &:extend(.breeze-tab-content-active all);
        }
    }
}

.accordion[data-mage-init*='"Swissup_Easytabs/js/tabs":'] {
    > .title {
        &:extend(.breeze-dropdown-toggler);

        &::after {
            &:extend(.breeze-dropdown-toggler-icon);
        }
        ._active&,
        &[aria-expanded="true"] {
            &::after {
                &:extend(.breeze-dropdown-toggler-icon-active);
            }
        }
    }
}

@hero-block-title__text-transform: false; // @todo remove after new breeze-blank
@tab-toggler__font-family: false;  // @todo remove after new breeze-blank
@tab-toggler__font-size: false;  // @todo remove after new breeze-blank
@tab-toggler__font-weight: false;  // @todo remove after new breeze-blank
@tab-toggler__text-transform: false;  // @todo remove after new breeze-blank

@easytabs-expanded-title-h2__font-size: @hero-block-title__font-size;
@easytabs-expanded-title-h2__font-weight: @hero-block-title__font-weight;
@easytabs-expanded-title-h2__text-transform: @hero-block-title__text-transform;
@easytabs-expanded-title-h2__padding: @4 0;

@easytabs-toolbar__background: #fff;
@easytabs-toolbar__box-shadow: 0 1px 0 @divider__color;
@easytabs-toolbar__top: 0;
@easytabs-toolbar__z-index: 99;

@easytabs-toolbar-item__color: currentColor;
@easytabs-toolbar-item__font-family: @tab-toggler__font-family;
@easytabs-toolbar-item__font-size: @tab-toggler__font-size;
@easytabs-toolbar-item__font-weight: @tab-toggler__font-weight;
@easytabs-toolbar-item__line-height: false;
@easytabs-toolbar-item__text-transform: @tab-toggler__text-transform;
@easytabs-toolbar-item__margin: 0;
@easytabs-toolbar-item__padding: 1rem 2rem;

@easytabs-toolbar-item-active__background: #fff;
@easytabs-toolbar-item-active__box-shadow: 0 2px 0 currentColor;

& when (@critical) {
    .product.data.items {
        &.accordion {
            > .title {
                .breeze-text-lg();
                font-weight: 500;
                clear: both;
                padding: @3 0;
            }
            > .content {
                padding: 0 @3;
            }
        }
        &.expanded {
            @media @media-md {
                display: flex;
                flex-flow: row wrap;
            }

            > .title {
                @media @media-md-down {
                    margin-top: @2;
                }
                @media @media-md {
                    width: 25%;
                    border-top: 1px solid @divider__color;
                }

                h2 {
                    .lib-css(font-size, @easytabs-expanded-title-h2__font-size);
                    .lib-css(font-weight, @easytabs-expanded-title-h2__font-weight);
                    .lib-css(text-transform, @easytabs-expanded-title-h2__text-transform);
                    .lib-css(padding, @easytabs-expanded-title-h2__padding);
                }
            }

            > .content {
                position: relative;
                visibility: visible;
                height: auto;
                opacity: 1;
                @media @media-md {
                    padding: @4 0;
                    width: 75%;
                    border-top: 1px solid @divider__color;
                }
            }
            &:first-child > .content {
                .block:first-child .block-title,
                .review-add .block-title {
                    &:extend(.breeze-sr-only);
                }
            }
        }

        .block.crosssell {
            .block-title {
                display: none;
            }
        }
        #product\.info\.description {
            &:extend(.breeze-prose all);
        }
    }

    .product.info.detailed .tabs-toolbar {
        ~ .data.items {
            > .item.content {
                scroll-margin-top: 50px;
            }
        }
    }
}
